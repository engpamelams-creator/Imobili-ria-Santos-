<?php /* For√ßar HTTPS (opcional). Comente se sua hospedagem n√£o suportar.
if ((!isset($_SERVER['HTTPS']) || $_SERVER['HTTPS'] !== 'on') && $_SERVER['HTTP_HOST'] !== 'localhost') {
  header('Location: https://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']); exit;
} */
?>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Imobili√°ria Santos</title>
  <meta name="description" content="Imobili√°ria Santos ‚Äî venda, aluguel e financiamento de im√≥veis." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="./img/logo.png">
  <link rel="stylesheet" href="./style.css">
</head>
<body>

<!-- ===== Header Pro (sticky + glass + CTA + tema) ===== -->
<header id="primeira-sessao" class="site-header">
  <div class="container header-row">
    <a href="#" class="brand" aria-label="Imobili√°ria Santos - In√≠cio">
      <img src="./img/logo.png" alt="Logotipo Imobili√°ria Santos">
    </a>

    <button class="nav-toggle" aria-label="Abrir menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <nav class="main-nav" aria-label="Navega√ß√£o principal">
      <ul>
        <li><a href="#sobre">Sobre</a></li>
        <li><a href="#servicos">Servi√ßos</a></li>
        <li><a href="#corretores">Corretores</a></li>
        <li><a href="#contato">Contato</a></li>
      </ul>
    </nav>

    <div class="header-actions">
      <button class="theme-toggle" id="themeToggle" aria-label="Alternar tema">
        <span class="sun">‚òÄ</span><span class="moon">üåô</span>
      </button>
      <a class="btn-cta" href="https://wa.me/5521999999999?text=Ol√°!%20Tenho%20interesse%20em%20um%20im√≥vel." target="_blank" rel="noopener">WhatsApp</a>
    </div>
  </div>
  <div class="header-wave" aria-hidden="true"></div>
</header>

<main id="conteudo">
  <!-- Hero / Banner (com parallax leve) -->
  <section class="hero" aria-label="Destaque">
    <div class="container">
      <img class="cover parallax" src="./img/banner-1024x341.jpg" alt="Casa moderna com jardim, fachada ampla e garagem">
    </div>
  </section>

  <!-- Pop-up de boas-vindas -->
<div id="welcomeModal" class="modal">
  <div class="modal-content">
    <span id="closeModal" class="close">&times;</span>
    <h2>üëã Seja Bem-vindo!</h2>
    <p>Obrigado por visitar a <strong>Imobili√°ria Santos</strong>.</p>
  </div>
</div>

<script>
  // Mostra o modal ao carregar
  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("welcomeModal").style.display = "flex";
  });

  // Fecha o modal no X ou clique fora
  document.getElementById("closeModal").onclick = () => {
    document.getElementById("welcomeModal").style.display = "none";
  };
  window.onclick = (e) => {
    if (e.target.id === "welcomeModal") {
      document.getElementById("welcomeModal").style.display = "none";
    }
  };
</script>


  <!-- Sobre -->
  <section id="sobre" class="intro section reveal">
    <div class="container">
      <h2>Encontre o im√≥vel dos seus sonhos</h2>
      <p class="lead">A imobili√°ria que te ajuda no sonho do seu im√≥vel</p>

      <img class="thumb"
           src="./img/corretores.jpg"
           alt="Corretor com miniatura de casa e documentos"
           loading="lazy" decoding="async">

      <p class="copy">
        H√° <a href="#sobre" title="Experi√™ncia de mercado">10 anos</a> no ramo temos conquistado a confian√ßa de
        <a href="#sobre" title="Clientes satisfeitos">in√∫meros clientes</a>. Isso porque procuramos sempre as melhores
        condi√ß√µes tanto para quem quer comprar, como para quem quer vender ou alugar. Oferecemos um
        <a href="#servicos" title="Servi√ßos">servi√ßo de qualidade</a> servindo como ponte entre as partes interessadas.
      </p>
    </div>
  </section>

  <!-- Servi√ßos -->
  <section id="servicos" class="services section reveal">
    <div class="container">
      <h3>SERVI√áOS</h3>
      <p>
        Contamos com diversos <span class="hl">servi√ßos imobili√°rios</span> e tamb√©m prestamos
        suporte em cada uma das etapas necess√°rias de cada servi√ßo. Aqui na
        <span class="hl-alt">Imobili√°ria Santos</span> podemos te ajudar com a seguinte gama de
        assuntos relativos a im√≥veis:
      </p>
      <ul class="bullet" role="list">
        <li>Venda</li>
        <li>Aluguel</li>
        <li>Financiamento</li>
        <li>Parcerias</li>
      </ul>
    </div>
  </section>

  <!-- Corretores -->
  <section id="corretores" class="agents section reveal">
    <div class="container">
      <h3>Corretores</h3>

      <figure class="photo-frame">
        <img class="photo"
             src="./img/imovel-assinatura-1280x854.jpg"
             alt="Miniatura de casa sobre contrato com chaves e caneta"
             width="1280" height="854" loading="lazy">
      </figure>

      <p>
        A <a href="#">Imobili√°ria Santos</a> conta com um time de profissionais qualificados que t√™m v√°rios anos de
        experi√™ncia no mercado. Para entrar em contato com um de nossos corretores, basta clicar no link a seguir:
        <a href="#contato">Corretores</a>.
      </p>
    </div>
  </section>

  <!-- Contato -->
  <section id="contato" class="contact section reveal">
    <div class="container">
      <h3>Contato</h3>

      <div class="contact-grid">
        <iframe class="map" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps?q=Av.+Ayrton+Senna,+3000,+Barra+da+Tijuca,+Rio+de+Janeiro&output=embed"
          title="Mapa - Escrit√≥rio Barra da Tijuca"></iframe>

        <!-- Formul√°rio com envio ass√≠ncrono (PHP em contact.php) -->
        <form id="contactForm" class="card" novalidate>
          <h4>Envie uma mensagem</h4>

          <div class="field">
            <label for="nome">Nome</label>
            <input id="nome" name="nome" type="text" placeholder="Como podemos te chamar?" required>
          </div>

          <div class="field">
            <label for="telefone">Telefone / WhatsApp</label>
            <input id="telefone" name="telefone" type="tel" placeholder="(21) 99999-9999" required>
          </div>

          <div class="field">
            <label for="email">E-mail (opcional)</label>
            <input id="email" name="email" type="email" placeholder="voce@exemplo.com">
          </div>

          <div class="field">
            <label for="mensagem">Mensagem</label>
            <textarea id="mensagem" name="mensagem" rows="4" placeholder="Conte o que voc√™ procura" required></textarea>
          </div>

          <!-- Honeypot antispam (oculto via CSS .hp) -->
          <input type="text" name="website" id="website" class="hp" tabindex="-1" autocomplete="off">

          <button class="btn-cta btn-full" type="submit">Enviar</button>
          <p class="form-note">Responderemos em at√© 1 dia √∫til.</p>
          <div id="formAlert" class="alert" role="status" aria-live="polite"></div>
        </form>
      </div>

      <div class="callout">
        Se ficou interessado em nos conhecer ou se tiver d√∫vidas, entre em <b>contato</b> conosco atrav√©s de um dos telefones abaixo:
      </div>

      <div class="btns" role="group" aria-label="Unidades">
        <a class="btn" href="#" title="Escrit√≥rio Barra da Tijuca">Escrit√≥rio Barra da Tijuca</a>
        <a class="btn" href="#" title="Escrit√≥rio Centro/RJ">Escrit√≥rio Centro/RJ</a>
        <a class="btn" href="#" title="Escrit√≥rio M√©ier">Escrit√≥rio M√©ier</a>
      </div>
    </div>
  </section>
</main>

<footer>
  ¬© <span id="year"></span> Imobili√°ria Santos ‚Äî Todos os direitos reservados.
</footer>

<!-- Bot√µes flutuantes -->
<a href="https://wa.me/5521999999999?text=Ol√°!%20Vim%20pelo%20site." class="float-whats" target="_blank" rel="noopener" aria-label="Fale no WhatsApp">üü¢</a>
<button id="backToTop" class="back-to-top" aria-label="Voltar ao topo">‚Üë</button>

<script>
  // Ano no rodap√©
  document.getElementById('year').textContent = new Date().getFullYear();

  // Sticky + sombra ao rolar + parallax leve
  const header = document.querySelector('.site-header');
  const parallax = document.querySelector('.parallax');
  const onScroll = () => {
    header.classList.toggle('scrolled', window.scrollY > 8);
    if (parallax) {
      const t = Math.min(20, window.scrollY / 15);
      parallax.style.transform = `translateY(${t}px)`;
    }
    document.getElementById('backToTop').classList.toggle('show', window.scrollY > 400);
  };
  onScroll();
  window.addEventListener('scroll', onScroll, { passive: true });

  // Menu ativo por se√ß√£o
  const sections = ['sobre','servicos','corretores','contato'].map(id => document.getElementById(id));
  const navLinks = [...document.querySelectorAll('.main-nav a')];
  const io = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        navLinks.forEach(a => {
          const isActive = a.getAttribute('href') === '#' + e.target.id;
          a.classList.toggle('active', isActive);
          if (isActive) a.setAttribute('aria-current', 'page'); else a.removeAttribute('aria-current');
        });
      }
    });
  }, { rootMargin: '-40% 0px -55% 0px', threshold: 0 });
  sections.forEach(s => io.observe(s));

  // Menu mobile
  const toggle = document.querySelector('.nav-toggle');
  if (toggle) {
    toggle.addEventListener('click', () => {
      const isOpen = document.documentElement.classList.toggle('nav-open');
      toggle.setAttribute('aria-expanded', String(isOpen));
    });
    navLinks.forEach(a => a.addEventListener('click', () => {
      document.documentElement.classList.remove('nav-open');
      toggle.setAttribute('aria-expanded','false');
    }));
  }

  // Reveal on scroll
  document.querySelectorAll('.reveal').forEach(el => {
    const ro = new IntersectionObserver(([entry], obs) => {
      if (entry.isIntersecting) { el.classList.add('revealed'); obs.unobserve(el); }
    }, {threshold: .12});
    ro.observe(el);
  });

  // Voltar ao topo
  document.getElementById('backToTop').addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

  // Theme toggle (claro/escuro)
  const themeToggle = document.getElementById('themeToggle');
  const applyTheme = (t) => document.documentElement.setAttribute('data-theme', t);
  const savedTheme = localStorage.getItem('theme');
  applyTheme(savedTheme || 'light');
  themeToggle.addEventListener('click', () => {
    const t = (document.documentElement.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
    applyTheme(t); localStorage.setItem('theme', t);
  });

  // Formul√°rio ass√≠ncrono (AJAX ‚Üí contact.php)
  const form = document.getElementById('contactForm');
  const alertBox = document.getElementById('formAlert');
  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    alertBox.textContent = 'Enviando...';
    const data = new FormData(form);
    try {
      const res = await fetch('contact.php', { method:'POST', body:data });
      const msg = await res.text();
      alertBox.textContent = msg || 'Mensagem enviada com sucesso!';
      if (res.ok) form.reset();
    } catch(err) {
      alertBox.textContent = 'N√£o foi poss√≠vel enviar agora. Tente novamente mais tarde.';
    }
  });
</script>

</body>
</html>